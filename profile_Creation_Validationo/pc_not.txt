package application;

import javafx.fxml.FXML;
import javafx.scene.control.TextArea;
import javafx.scene.control.Label;
import javafx.scene.control.Alert;
import javafx.scene.control.Alert.AlertType;
import javafx.scene.control.Button;

public class Controller {

    @FXML
    private TextArea firstName;
    
    @FXML
    private TextArea lastName;
    
    @FXML
    private TextArea dob;
    
    @FXML
    private TextArea phoneNumber;
    
    @FXML
    private TextArea email;
    
    @FXML
    private TextArea username;
    
    @FXML
    private TextArea password;
    
    @FXML
    private TextArea confirmPassword;

    @FXML
    private Label errorLabel;
    
    @FXML
    private Button createProfileButton;

    @FXML
    public void initialize() {
        createProfileButton.setOnAction(e - createProfile());
    }

    public void createProfile() {
        try {
            if (isEmpty(firstName)  isEmpty(lastName)  isEmpty(dob)  isEmpty(phoneNumber)  isEmpty(email)  isEmpty(username)  isEmpty(password)  isEmpty(confirmPassword)) {
                showAlert(All fields must be filled);
            } else {
                if (!isValidPhoneNumber(phoneNumber)) {
                    showAlert(Phone number must be exactly 10 digits);
                } else if (!isValidName(firstName)  !isValidName(lastName)) {
                    showAlert(First and last names must contain only letters);
                } else if (!isValidDOB(dob)) {
                    showAlert(Date of birth must follow the format MMDDYYYY);
                } else if (!password.getText().equals(confirmPassword.getText())) {
                    showAlert(Password and confirm password must be equal);
                } else {
                    errorLabel.setText(All fields are filled);
                }
            }
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

    private boolean isEmpty(TextArea textArea) {
        return textArea.getText().trim().isEmpty();
    }

    private boolean isValidPhoneNumber(TextArea textArea) {
        return textArea.getText().matches(d{10});
    }

    private boolean isValidName(TextArea textArea) {
        return textArea.getText().matches([a-zA-Z]+);
    }

    private boolean isValidDOB(TextArea textArea) {
        return textArea.getText().matches(d{2}d{2}d{4});
    }

    private void showAlert(String message) {
        Alert alert = new Alert(AlertType.ERROR);
        alert.setTitle(Error Dialog);
        alert.setHeaderText(null);
        alert.setContentText(message);
        alert.showAndWait();
    }
}